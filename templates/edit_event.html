{% extends "base.html" %}

{% block title %}Edit Event{% endblock %}

{% block content %}
<div class="form-container">
    <h1>Edit Event</h1>
    
    <form method="POST" class="event-form">
        <div class="form-group">
            <label for="title">Event Title:</label>
            <input type="text" id="title" name="title" value="{{ event.title }}" required>
        </div>
        
        <div class="form-group">
            <label for="description">Description:</label>
            <textarea id="description" name="description" rows="4" required>{{ event.description }}</textarea>
        </div>
        
        <div class="form-group">
            <label for="event_type">Event Type:</label>
            <select id="event_type" name="event_type" required>
                <option value="event" {% if event.event_type == 'event' %}selected{% endif %}>Event</option>
                <option value="competition" {% if event.event_type == 'competition' %}selected{% endif %}>Competition</option>
                <option value="program" {% if event.event_type == 'program' %}selected{% endif %}>Program</option>
            </select>
        </div>
        
        <div class="form-group">
            <label for="date">Date & Time:</label>
            <input type="datetime-local" id="date" name="date" value="{{ event.date.strftime('%Y-%m-%dT%H:%M') }}" required>
        </div>
        
        <div class="form-group">
            <label for="location">Location:</label>
            <input type="text" id="location" name="location" value="{{ event.location }}" required>
        </div>
        
        <div class="form-group">
            <label for="max_participants">Maximum Participants (Optional):</label>
            <input type="number" id="max_participants" name="max_participants" min="1" value="{{ event.max_participants or '' }}">
        </div>
        
        <div class="form-group">
            <label for="status">Status:</label>
            <select id="status" name="status" required>
                <option value="upcoming" {% if event.status == 'upcoming' %}selected{% endif %}>Upcoming</option>
                <option value="ongoing" {% if event.status == 'ongoing' %}selected{% endif %}>Ongoing</option>
                <option value="completed" {% if event.status == 'completed' %}selected{% endif %}>Completed</option>
                <option value="cancelled" {% if event.status == 'cancelled' %}selected{% endif %}>Cancelled</option>
            </select>
        </div>
        
        <div class="form-actions">
            <button type="submit" class="btn">Update Event</button>
            <a href="{{ url_for('view_event', event_id=event.id) }}" class="btn btn-secondary">Cancel</a>
        </div>
    </form>
</div>
{% endblock %}
