{% extends "base.html" %}

{% block title %}Home{% endblock %}

{% block content %}
<h1>Welcome, {{ user.username }}!</h1>
<p>You are successfully logged in.</p>
<p>Your email: {{ user.email }}</p>

<div class="actions">
    <a href="{{ url_for('events') }}" class="btn">Manage Events</a>
    <a href="{{ url_for('create_event') }}" class="btn">Create New Event</a>
    <a href="{{ url_for('courses') }}" class="btn">Course Repository</a>
    <a href="{{ url_for('logout') }}" class="btn">Logout</a>
</div>

{% if events %}
<h2>Your Recent Events</h2>
<div class="events-grid">
    {% for event in events[:3] %}
    <div class="event-card">
        <h3>{{ event.title }}</h3>
        <p><strong>Type:</strong> {{ event.event_type|title }}</p>
        <p><strong>Date:</strong> {{ event.date.strftime('%B %d, %Y at %I:%M %p') }}</p>
        <p><strong>Location:</strong> {{ event.location }}</p>
        <p><strong>Status:</strong> <span class="status-{{ event.status }}">{{ event.status|title }}</span></p>
        <div class="event-actions">
            <a href="{{ url_for('view_event', event_id=event.id) }}" class="btn-small">View</a>
            <a href="{{ url_for('edit_event', event_id=event.id) }}" class="btn-small">Edit</a>
        </div>
    </div>
    {% endfor %}
</div>
{% if events|length > 3 %}
<p><a href="{{ url_for('events') }}">View all {{ events|length }} events</a></p>
{% endif %}
{% else %}
<div class="no-events">
    <h2>No Events Yet</h2>
    <p>You haven't created any events yet. <a href="{{ url_for('create_event') }}">Create your first event!</a></p>
</div>
{% endif %}
{% endblock %}
